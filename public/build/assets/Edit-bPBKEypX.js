import{u as j,b as w,r as u,j as e,H as v,L as N,a as x}from"./app-Cv3QELsD.js";import{A as k}from"./AuthenticatedLayout-B0rF1LC0.js";/* empty css            */import"./transition-2rVswJNR.js";function _(){const{basePath:n="admin",user:l}=j().props,{data:a,setData:o,put:p,processing:c,errors:t,reset:b}=w({name:l?.name||"",email:l?.email||"",phone:l?.phone||"",role:l?.role||"user",password:"",password_confirmation:""}),[h,i]=u.useState(!1),[m,r]=u.useState(null),[g,d]=u.useState("bg-green-600"),f=s=>{if(s.preventDefault(),a.password&&a.password!==a.password_confirmation){r("âš ï¸ Passwords do not match!"),d("bg-red-600"),setTimeout(()=>r(null),2500);return}p(route(`${n}.users.update`,l.id),{preserveScroll:!0,onSuccess:()=>{b("password","password_confirmation"),r("âœ… User updated successfully!"),d("bg-green-600"),setTimeout(()=>r(null),2500)},onError:()=>{r("âš ï¸ Failed to update user."),d("bg-red-600"),setTimeout(()=>r(null),2500)}})},y=()=>{x.delete(route(`${n}.users.destroy`,l.id),{onSuccess:()=>{i(!1),r("ðŸ—‘ï¸ User deleted successfully!"),d("bg-green-600"),setTimeout(()=>{r(null),x.visit(route(`${n}.users.index`))},2e3)},onError:()=>{i(!1),r("âŒ Failed to delete user."),d("bg-red-600"),setTimeout(()=>r(null),2500)}})};return e.jsxs(k,{header:e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Edit User"}),children:[e.jsx(v,{title:`Edit ${l?.name||"User"}`}),m&&e.jsx("div",{className:`fixed top-5 right-5 z-50 ${g} text-white px-4 py-3 rounded-lg shadow-lg transition-opacity duration-300`,children:m}),e.jsxs("div",{className:"max-w-2xl mx-auto bg-white p-6 rounded-lg shadow-md space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center border-b pb-3",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Edit User"}),e.jsx(N,{href:route(`${n}.users.index`),className:"text-blue-600 hover:underline",children:"â† Back"})]}),e.jsxs("form",{onSubmit:f,className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),e.jsx("input",{type:"text",value:a.name,onChange:s=>o("name",s.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 text-gray-900 focus:ring-blue-500 focus:border-blue-500",required:!0}),t.name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),e.jsx("input",{type:"text",placeholder:"e.g. 0541234567 or 233541234567",value:a.phone,onChange:s=>o("phone",s.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 text-gray-900 focus:ring-blue-500 focus:border-blue-500"}),t.phone&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.phone})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),e.jsx("input",{type:"email",value:a.email,onChange:s=>o("email",s.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 text-gray-900 focus:ring-blue-500 focus:border-blue-500",required:!0}),t.email&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Role"}),e.jsxs("select",{value:a.role,onChange:s=>o("role",s.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 text-gray-900 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"user",children:"User"}),e.jsx("option",{value:"staff",children:"Staff"}),e.jsx("option",{value:"admin",children:"Admin"}),e.jsx("option",{value:"superadmin",children:"Super Admin"})]}),t.role&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.role})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"New Password (optional)"}),e.jsx("input",{type:"password",value:a.password,onChange:s=>o("password",s.target.value),placeholder:"Leave blank to keep current password",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 text-gray-900 focus:ring-blue-500 focus:border-blue-500"}),t.password&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.password})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Confirm New Password"}),e.jsx("input",{type:"password",value:a.password_confirmation,onChange:s=>o("password_confirmation",s.target.value),placeholder:"Re-enter new password",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 text-gray-900 focus:ring-blue-500 focus:border-blue-500"}),t.password_confirmation&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.password_confirmation})]}),e.jsxs("div",{className:"pt-4 flex justify-between items-center border-t mt-6 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>i(!0),className:"px-5 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition",children:"Delete User"}),e.jsx("button",{type:"submit",disabled:c,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition disabled:opacity-50",children:c?"Saving...":"Save Changes"})]})]})]}),h&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg max-w-sm w-full p-6 text-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Confirm Deletion"}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["Are you sure you want to delete"," ",e.jsx("span",{className:"font-semibold",children:l.name}),"? This action cannot be undone."]}),e.jsxs("div",{className:"flex justify-center gap-3",children:[e.jsx("button",{onClick:()=>i(!1),className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",children:"Cancel"}),e.jsx("button",{onClick:y,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Delete"})]})]})})]})}export{_ as default};
