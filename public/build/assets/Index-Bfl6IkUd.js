import{u as g,b as p,r as b,j as e,H as x,a as y}from"./app-CsPuMaPE.js";import{A as h}from"./AuthenticatedLayout-DLvna0tA.js";/* empty css            */import"./transition-Bs_woZCa.js";function w(){const{settings:a,flash:t}=g().props,{data:r,setData:s,post:d,processing:m,errors:l}=p({company_name:a.company_name||"",address:a.address||"",phone:a.phone||"",email:a.email||"",bank_name:a.bank_name||"",bank_account_number:a.bank_account_number||"",manager_name:a.manager_name||"",manager_title:a.manager_title||"",default_interest_rate:a.default_interest_rate??20,default_term_months:a.default_term_months??3,default_penalty_rate:a.default_penalty_rate??.5,grace_period_days:a.grace_period_days??0,allow_early_repayment:!!a.allow_early_repayment,_method:"put"}),c=o=>{o.preventDefault(),d(route("settings.update"),{forceFormData:!0})};return b.useEffect(()=>{t?.success&&alert(t.success),t?.error&&alert(t.error)},[t]),e.jsxs(h,{header:e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"System Settings"}),children:[e.jsx(x,{title:"Settings"}),e.jsx("div",{className:"py-8 max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 space-y-6",children:e.jsxs("form",{onSubmit:c,className:"space-y-8",children:[e.jsxs("section",{className:"bg-white shadow rounded-lg p-6 space-y-4 border border-gray-200",children:[e.jsx("h3",{className:"font-semibold text-lg border-b border-gray-300 pb-2 text-gray-800",children:"Organization Info"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[["Company Name","company_name"],["Email","email"],["Phone","phone"],["Address","address"],["Bank Name","bank_name"],["Bank Account Number","bank_account_number"],["Manager Name","manager_name"],["Manager Title","manager_title"]].map(([o,n])=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:o}),e.jsx("input",{type:n==="email"?"email":"text",className:"mt-1 w-full rounded border border-gray-300 bg-white text-gray-900 placeholder-gray-500 focus:ring-blue-500 focus:border-blue-500 shadow-sm",value:r[n],onChange:u=>s(n,u.target.value)}),l[n]&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:l[n]})]},n))})]}),e.jsxs("section",{className:"bg-white shadow rounded-lg p-6 space-y-4 border border-gray-200",children:[e.jsx("h3",{className:"font-semibold text-lg border-b border-gray-300 pb-2 text-gray-800",children:"Loan Defaults"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(i,{label:"Default Interest Rate (%)",field:"default_interest_rate",data:r,setData:s,errors:l}),e.jsx(i,{label:"Default Term (months)",field:"default_term_months",data:r,setData:s,errors:l}),e.jsx(i,{label:"Penalty Rate (% per day)",field:"default_penalty_rate",data:r,setData:s,errors:l}),e.jsx(i,{label:"Grace Period (days)",field:"grace_period_days",data:r,setData:s,errors:l}),e.jsxs("div",{className:"flex items-center gap-2 mt-6",children:[e.jsx("input",{id:"allow_early_repayment",type:"checkbox",checked:!!r.allow_early_repayment,onChange:o=>s("allow_early_repayment",o.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:"allow_early_repayment",className:"text-sm text-gray-700",children:"Allow Early Repayment"})]})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("button",{type:"button",onClick:()=>{confirm("Are you sure you want to reset all settings to default values?")&&y.put(route("settings.reset"))},className:"px-6 py-2 rounded bg-red-600 text-white hover:bg-red-700 transition shadow",children:"â™»ï¸ Reset to Defaults"}),e.jsx("button",{type:"submit",disabled:m,className:"px-6 py-2 rounded bg-gray-800 text-white hover:bg-black transition shadow disabled:opacity-50",children:m?"Saving...":"ðŸ’¾ Save Settings"})]})]})})]})}function i({label:a,field:t,data:r,setData:s,errors:d}){return e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:a}),e.jsx("input",{type:"number",step:"0.01",className:"mt-1 w-full rounded border border-gray-300 bg-white text-gray-900 placeholder-gray-500 focus:ring-blue-500 focus:border-blue-500 shadow-sm",value:r[t],onChange:m=>s(t,m.target.value)}),d[t]&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:d[t]})]})}export{w as default};
