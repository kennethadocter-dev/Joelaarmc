import{u as x,j as e,H as u,L as o}from"./app-CsPuMaPE.js";import{A as m}from"./AuthenticatedLayout-DLvna0tA.js";/* empty css            */import"./transition-Bs_woZCa.js";function g(){const{customer:l={},auth:r={},basePath:i="admin"}=x().props,a=l||{},c=["admin","superadmin","staff","officer"].includes(r?.user?.role)||r?.user?.is_super_admin;return e.jsxs(m,{header:e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Customer Profile"}),children:[e.jsx(u,{title:`${a.full_name??"Customer"} - Profile`}),e.jsx("div",{className:"max-w-5xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center border-b pb-3",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:a.full_name||"—"}),c&&e.jsx(o,{href:route(`${i}.customers.edit`,a.id),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition",children:"✏️ Edit"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${a.status==="active"?"bg-green-100 text-green-700":a.status==="suspended"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:(a.status||"unknown").toUpperCase()}),e.jsxs("span",{className:"text-gray-500 text-sm",children:["Joined"," ",a.created_at?new Date(a.created_at).toLocaleDateString():"—"]})]}),e.jsx(n,{title:"Personal Information",children:e.jsxs(d,{children:[e.jsx(s,{label:"Full Name",value:a.full_name}),e.jsx(s,{label:"Phone",value:a.phone||"—"}),e.jsx(s,{label:"Email",value:a.email||"—"}),e.jsx(s,{label:"Gender",value:a.gender==="M"?"Male":a.gender==="F"?"Female":"—"}),e.jsx(s,{label:"Marital Status",value:a.marital_status?a.marital_status[0].toUpperCase()+a.marital_status.slice(1):"—"})]})}),e.jsx(n,{title:"Address Information",children:e.jsxs(d,{children:[e.jsx(s,{label:"House No.",value:a.house_no||"—"}),e.jsx(s,{label:"Community",value:a.community||"—"}),e.jsx(s,{label:"Location",value:a.location||"—"}),e.jsx(s,{label:"District",value:a.district||"—"}),e.jsx(s,{label:"Postal Address",value:a.postal_address||"—"})]})}),e.jsx(n,{title:"Work & Financial Information",children:e.jsxs(d,{children:[e.jsx(s,{label:"Workplace",value:a.workplace||"—"}),e.jsx(s,{label:"Profession",value:a.profession||"—"}),e.jsx(s,{label:"Employer",value:a.employer||"—"}),e.jsx(s,{label:"Bank",value:a.bank||"—"}),e.jsx(s,{label:"Bank Branch",value:a.bank_branch||"—"}),e.jsx(s,{label:"Has Bank Loan",value:a.has_bank_loan?"Yes":"No"}),e.jsx(s,{label:"Monthly Deduction (₵)",value:a.bank_monthly_deduction||"—"}),e.jsx(s,{label:"Take-home Salary (₵)",value:a.take_home||"—"})]})}),e.jsx(n,{title:"Loan Request Information",children:e.jsxs(d,{children:[e.jsx(s,{label:"Requested Amount (₵)",value:a.loan_amount_requested||"—"}),e.jsx(s,{label:"Loan Purpose",value:a.loan_purpose||"—"})]})}),e.jsx(n,{title:"Guarantors",children:a.guarantors?.length>0?e.jsx("div",{className:"overflow-x-auto rounded-md border border-gray-200",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsx("tr",{children:["Name","Occupation","Residence","Contact"].map(t=>e.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-800",children:t},t))})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:a.guarantors.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[e.jsx("td",{className:"px-4 py-2 text-gray-800",children:t.name}),e.jsx("td",{className:"px-4 py-2 text-gray-600",children:t.occupation||"—"}),e.jsx("td",{className:"px-4 py-2 text-gray-600",children:t.residence||"—"}),e.jsx("td",{className:"px-4 py-2 text-gray-600",children:t.contact||"—"})]},t.id))})]})}):e.jsx("p",{className:"text-gray-600 italic",children:"No guarantors listed."})}),e.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[e.jsx(o,{href:route(`${i}.customers.index`),className:"text-gray-600 hover:underline",children:"← Back to Customers"}),c&&e.jsxs("div",{className:"flex gap-3",children:[e.jsx(o,{href:route(`${i}.customers.edit`,a.id),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition",children:"Edit"}),e.jsx(o,{href:route(`${i}.loans.create`,{customer_id:a.id,client_name:a.full_name}),className:`px-4 py-2 rounded transition ${a.loans?.length>=3?"bg-gray-400 cursor-not-allowed text-white":"bg-green-600 hover:bg-green-700 text-white"}`,onClick:t=>{a.loans?.length>=3&&(t.preventDefault(),alert("⚠️ This customer already has 3 active or pending loans."))},children:"Create Loan"})]})]})]})})]})}function n({title:l,children:r}){return e.jsxs("section",{className:"mt-4",children:[e.jsx("h2",{className:"text-lg font-semibold mb-3 text-gray-800",children:l}),r]})}function d({children:l}){return e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l})}function s({label:l,value:r}){return e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:l}),e.jsx("p",{className:"text-gray-800 font-medium",children:r??"—"})]})}export{g as default};
